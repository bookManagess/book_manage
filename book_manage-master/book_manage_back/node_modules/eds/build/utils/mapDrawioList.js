const fs = require('fs');
const path = require('path');

function readDirR(dir) {
  return fs.statSync(dir).isDirectory()
      ? Array.prototype.concat(...fs.readdirSync(dir).map(f => readDirR(path.join(dir, f))).filter(el => !el.includes('.DS_Store') && !el.includes('.js')))
      : dir;
}

module.exports = function mapDrawioList(versions) {
  const list = {};
  versions.forEach((el) => {list[el] = readDirR(`../src/${el}/drawio`)});
  return list;
}
