const through = require('through2');
const gutil = require('gulp-util');

module.exports = function readModuleFile(changeContent) {
  return through.obj((file, enc, cb) => {
    try {
      file.contents = new Buffer(changeContent(file));
    } catch (err) {
      gutil.log(err);
    }

    cb(null, file);
  });
};